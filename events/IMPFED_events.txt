add_namespace = IMPFED_events

country_event = { # Invite Ireland to the conference
	id = IMPFED_events.1
	title = IMPFED_events.1.t
	desc = IMPFED_events.1.d
	picture = GFX_report_event_generic_read_write
	is_triggered_only = yes
	option = {
		name = IMPFED_events.1.a
		IRE = { country_event { id = IMPFED_events.2 hours = 48 random_hours = 24 }	}
		ENG_imperial_conference_set_subject_counter = yes
	}
	option = {
		name = IMPFED_events.1.b
		add_political_power = -25
		IRE = { country_event { id = IMPFED_events.2 hours = 48 random_hours = 24 }	}
		set_country_flag = ENG_diplomatic_pressure_flag
		IRE = {
			add_opinion_modifier = {
				target = ENG
				modifier = ENG_diplomatic_pressure
			}
		}	
		ENG_imperial_conference_set_subject_counter = yes
	}
	option = {
		name = IMPFED_events.1.c
		add_political_power = -50
		IRE = { country_event { id = IMPFED_events.2 hours = 48 random_hours = 24 }	}
		set_country_flag = ENG_extensive_diplomatic_pressure_flag
		IRE = {
			add_opinion_modifier = {
				target = ENG
				modifier = ENG_extensive_diplomatic_pressure
			}
		}	
		ENG_imperial_conference_set_subject_counter = yes
	}
}	
	
country_event = { # Ireland recieves invite
	id = IMPFED_events.2
	title = IMPFED_events.2.t
	desc = IMPFED_events.2.d
	picture = GFX_report_event_generic_read_write
	is_triggered_only = yes
	immediate = {
		set_country_flag = invited_to_imperial_conference
	}	
	# Accept
	option = {
		name = IMPFED_events.2.a
		ai_chance = {
			factor = 40
		}
		hidden_effect = {
			if = {
				limit = {
					ENG = {
						has_country_flag = ENG_diplomatic_pressure_flag
					}	
				}	
				IRE = {
					remove_opinion_modifier = {
						target = ENG
						modifier = ENG_diplomatic_pressure
					}
				}
			}
			if = {
				limit = {
					ENG = {
						has_country_flag = ENG_extensive_diplomatic_pressure_flag
					}
				}
				IRE = {
					remove_opinion_modifier = {
						target = ENG
						modifier = ENG_extensive_diplomatic_pressure
					}
				}
			}
		}	
		set_country_flag = IRE_attended_conference
		FROM = { country_event = { id = IMPFED_events.3 } }
	}

	# Reject
	option = {
		name = IMPFED_events.2.b
		ai_chance = {
			factor = 60
			modifier = {
				factor = 1.2
				has_opinion = { target = ENG value < 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		FROM = { country_event = { id = IMPFED_events.4 } }
	}
}	

# Event for ENG telling IRE will attend the conference
country_event = {
	id = IMPFED_events.3
	title = IMPFED_events.3.t
	desc = IMPFED_events.3.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = IMPFED_events.3.a
		clr_country_flag = ENG_imperial_conference_discussion_in_progress
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = ENG_diplomatic_pressure_flag
				}
				clr_country_flag = ENG_diplomatic_pressure_flag
				IRE = { remove_opinion_modifier = { target = ENG  modifier = ENG_diplomatic_pressure } }
			}
			if = {
				limit = {
					has_country_flag = ENG_extensive_diplomatic_pressure_flag
				}
				clr_country_flag = ENG_extensive_diplomatic_pressure_flag
				IRE = { remove_opinion_modifier = { target = ENG  modifier = ENG_extensive_diplomatic_pressure } }
			}
		}	
	}
}

# Event for ENG telling IRE will not attend
country_event = {
	id = IMPFED_events.4
	title = IMPFED_events.4.t
	desc = IMPFED_events.4.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = IMPFED_events.4.a
		clr_country_flag = ENG_imperial_conference_discussion_in_progress
		if = {
			limit = {
				has_country_flag = ENG_diplomatic_pressure_flag
			}
			clr_country_flag = ENG_diplomatic_pressure_flag
		}
		if = {
			limit = {
				has_country_flag = ENG_extensive_diplomatic_pressure_flag
			}
			clr_country_flag = ENG_extensive_diplomatic_pressure_flag
		}
	}
}

# Event for ENG telling IRE approves federation
country_event = {
	id = IMPFED_events.5
	title = IMPFED_events.5.t
	desc = IMPFED_events.5.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = IMPFED_events.5.a
		set_autonomy = {
			target = IRE
			autonomy_state = autonomy_dominion
		}	
		set_global_flag = federation_with_IRE
		IRE = { 
			add_ideas = ENG_federal_integration 
			set_country_flag = IMPFED_diplo_puppeted
		}
		hidden_effect = { 
			news_event = { id = IMPFED_events.7 days = 1 } 
		}
	}
}

# Event for ENG telling IRE has rejected unionism
country_event = {
	id = IMPFED_events.6
	title = IMPFED_events.6.t
	desc = IMPFED_events.6.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = IMPFED_events.6.a
	}
}
# News Event for IRE rejoining UK
news_event = {
	id = IMPFED_events.7
	title = IMPFED_events.7.t
	desc = IMPFED_events.7.d
	picture = GFX_news_event_eng_imperial_conference

	major = yes
	is_triggered_only = yes
	
	# Ok
	option = {
		name = IMPFED_events.7.a
		trigger = {
			NOT = {
				OR = {
					tag = ENG
					tag = CAN
					tag = SAF
					tag = AST
					tag = MAL
					tag = RAJ
					tag = NZL
					tag = IRE
				}
			}
		}
	}
	# Ok
	option = {
		name = IMPFED_events.7.b
		trigger = {
				OR = {
					tag = CAN
					tag = SAF
					tag = AST
					tag = MAL
					tag = RAJ
					tag = NZL
				}
		}
	}
	# Ok
	option = {
		name = IMPFED_events.7.c
		trigger = {
			OR = {
				tag = ENG
				tag = IRE
			}
		}
	}
}

#Dummy event that replaces the Canadian leaders
country_event = {
	id = IMPFED_events.8
	title = IMPFED_events.8.t
	desc = IMPFED_events.8.d
	picture = GFX_report_event_generic_read_write
	
	trigger = {
		is_ai = yes
		NOT = { has_global_flag = CAN_leaders_replaced }
	}	

	mean_time_to_happen = {
		days = 1
	}	
	
	fire_only_once = yes
	
	# Ok
	option = {
		name = IMPFED_events.8.a
		CAN = {
			create_country_leader = {
				name = "Adrien Arcand"
				desc = "POLITICS_ADRIEN_ARCAND_DESC"
				picture = "Portrait_Canada_Adrien_Arcand.dds"
				expire = "1965.1.1"
				ideology = nazism
				traits = {
					#
				}
			}

			create_country_leader = {
				name = "Tim Buck"
				desc = "POLITICS_TIM_BUCK_DESC"
				picture = "Portrait_Canada_Tim_Buck.dds"
				expire = "1965.1.1"
				ideology = marxism
				traits = {
					#
				}
			}

			create_country_leader = {
				name = "J. S. Woodsworth"
				desc = "POLITICS_JS_WOODSWORTH_DESC"
				picture = "Portrait_Canada_JS_Woodsworth.dds"
				expire = "1965.1.1"
				ideology = centrism
				traits = {
					#
				}
			}
		}	
	}
}

# the West Indies Federation
country_event = {
	id = IMPFED_events.9
	title = IMPFED_events.9.t
	desc = IMPFED_events.9.d
	picture = GFX_report_event_felix_eboue
	
	is_triggered_only = yes	
	
	fire_only_once = yes
	
	# request the mandate
	option = {
		name = IMPFED_events.9.a
		686 = {
			owner = {
				country_event = { id = IMPFED_events.10 days = 1 }
			}
		}	
		694 = {
			owner = {
				country_event = { id = IMPFED_events.10 days = 1 }
			}
		}
		695 = {
			owner = {
				country_event = { id = IMPFED_events.10 days = 1 }
			}
		}	
		309 = {
			owner = {
				country_event = { id = IMPFED_events.11 days = 1 }
			}
		}	
		310 = {
			owner = {
				country_event = { id = IMPFED_events.11 days = 1 }
			}
		}	
		319 = {
			owner = {
				country_event = { id = IMPFED_events.12 days = 1 }
			}
		}
		318 = {
			owner = {
				country_event = { id = IMPFED_events.12 days = 1 }
			}
		}
		315 = {
			owner = {
				country_event = { id = IMPFED_events.12 days = 1 }
			}
		}
		set_global_flag = west_indies_mandate_asked
	}
	# don't request the mandate
	option = {
		name = IMPFED_events.9.b
	}	
}

# IMPFED requests control of Carribean colony
country_event = {
	id = IMPFED_events.10
	title = IMPFED_events.10.t
	desc = IMPFED_events.10.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	
	# hand over the island(s)
	option = {
		name = IMPFED_events.10.a
		ai_chance = {
			factor = 50
		}
		if = {
			limit = {
				owns_state = 686
			}
			ENG = { transfer_state = 686 }
		}	
		if = {
			limit = {
				owns_state = 694
			}
			ENG = { transfer_state = 694 }
		}	
		if = {
			limit = {
				owns_state = 695
			}
			ENG = { transfer_state = 695 }
		}
		ENG = { country_event = { id = IMPFED_events.13 days = 1 } }
	}
	# no
	option = {
		name = IMPFED_events.10.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				OR = {
					AND = {	
						has_government = democratic
						NOT = { ENG = { has_government = democratic } }
					}	
					AND = {	
						has_government = neutrality
						NOT = { ENG = { has_government = neutrality } }
					}
					AND = {	
						has_government = fascism
						NOT = { ENG = { has_government = fascism } }
					}
					AND = {	
						has_government = communism
						NOT = { ENG = { has_government = communism } }
					}
				}
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		ENG = {
			add_opinion_modifier = {
				target = ROOT
				modifier = ENG_denied_west_indies_mandate
			}
		}	
		ENG = { country_event = { id = IMPFED_events.14 days = 1 } }
	}	
}

# IMPFED requests control of Guyana colony
country_event = {
	id = IMPFED_events.11
	title = IMPFED_events.11.t
	desc = IMPFED_events.11.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	
	# hand over the island(s)
	option = {
		name = IMPFED_events.11.a
		ai_chance = {
			factor = 50
		}
		if = {
			limit = {
				owns_state = 309
			}
			ENG = { transfer_state = 309 }
		}	
		if = {
			limit = {
				owns_state = 310
			}
			ENG = { transfer_state = 310 }
		}
		ENG = { country_event = { id = IMPFED_events.15 days = 1 } }	
	}
	# no
	option = {
		name = IMPFED_events.11.b	
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				OR = {
					AND = {	
						has_government = democratic
						NOT = { ENG = { has_government = democratic } }
					}	
					AND = {	
						has_government = neutrality
						NOT = { ENG = { has_government = neutrality } }
					}
					AND = {	
						has_government = fascism
						NOT = { ENG = { has_government = fascism } }
					}
					AND = {	
						has_government = communism
						NOT = { ENG = { has_government = communism } }
					}
				}
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		ENG = { country_event = { id = IMPFED_events.16 days = 1 }	}
	}	
}

# events for carribean nations with opportunity to join the commonwealth
country_event = {
	id = IMPFED_events.12
	title = IMPFED_events.12.t
	desc = IMPFED_events.12.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	
	# join the commonwealth
	option = {
		name = IMPFED_events.12.a
		ai_chance = {
			factor = 50
		}	
		ENG = {
			set_autonomy = {
				target = ROOT
				autonomy_state = autonomy_dominion
			}
		}
		add_timed_idea = {
			idea = IMPFED_commonwealth_investments
			days = 365
		}
		set_country_flag = IMPFED_diplo_puppeted
		ENG = { country_event = { id = IMPFED_events.17 days = 1 }	}
	}
	# no
	option = {
		name = IMPFED_events.12.b	
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				OR = {
					AND = {	
						has_government = democratic
						NOT = { ENG = { has_government = democratic } }
					}	
					AND = {	
						has_government = neutrality
						NOT = { ENG = { has_government = neutrality } }
					}
					AND = {	
						has_government = fascism
						NOT = { ENG = { has_government = fascism } }
					}
					AND = {	
						has_government = communism
						NOT = { ENG = { has_government = communism } }
					}
				}
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		ENG = { country_event = { id = IMPFED_events.18 days = 1 }	}
	}	
}

# event for IMPFED saying that FROM transfered islands
country_event = {
	id = IMPFED_events.13
	title = IMPFED_events.13.t
	desc = IMPFED_events.13.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	
	# ok
	option = {
		name = IMPFED_events.13.a
	}
}
# event for IMPFED saying that FROM won't transfer islands
country_event = {
	id = IMPFED_events.14
	title = IMPFED_events.14.t
	desc = IMPFED_events.14.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	
	# ok
	option = {
		name = IMPFED_events.14.a
	}
}
# event for IMPFED saying that FROM transfered guyana territory
country_event = {
	id = IMPFED_events.15
	title = IMPFED_events.15.t
	desc = IMPFED_events.15.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	
	# ok
	option = {
		name = IMPFED_events.13.a
	}
}
# event for IMPFED saying that FROM won't transfer guyana territory
country_event = {
	id = IMPFED_events.16
	title = IMPFED_events.16.t
	desc = IMPFED_events.16.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	
	# ok
	option = {
		name = IMPFED_events.14.a
	}
}
# event for IMPFED saying that FROM joined commonwealth
country_event = {
	id = IMPFED_events.17
	title = IMPFED_events.17.t
	desc = IMPFED_events.17.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	
	# ok
	option = {
		name = IMPFED_events.13.a
	}
}
# event for IMPFED saying that FROM won't join the commonwealth
country_event = {
	id = IMPFED_events.18
	title = IMPFED_events.18.t
	desc = IMPFED_events.18.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	
	# ok
	option = {
		name = IMPFED_events.14.a
	}
	option = {
		name = IMPFED_events.14.b
		trigger = { NOT = { has_government = democratic } }
		create_wargoal = {
			type = puppet_wargoal_focus
			target = FROM
		}
	}
}
# IMPFED offers a central american nation to join the commonwealth
country_event = {
	id = IMPFED_events.19
	title = IMPFED_events.19.t
	desc = IMPFED_events.19.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	
# join the commonwealth
	option = {
		name = IMPFED_events.12.a
		ai_chance = {
			factor = 50
		}	
		ENG = {
			set_autonomy = {
				target = ROOT
				autonomy_state = autonomy_dominion
			}
		}
		add_timed_idea = {
			idea = IMPFED_commonwealth_investments
			days = 365
		}
		set_country_flag = IMPFED_diplo_puppeted
		ENG = { country_event = { id = IMPFED_events.17 days = 1 }	}
	}
	# no
	option = {
		name = IMPFED_events.12.b	
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				OR = {
					AND = {	
						has_government = democratic
						NOT = { ENG = { has_government = democratic } }
					}	
					AND = {	
						has_government = neutrality
						NOT = { ENG = { has_government = neutrality } }
					}
					AND = {	
						has_government = fascism
						NOT = { ENG = { has_government = fascism } }
					}
					AND = {	
						has_government = communism
						NOT = { ENG = { has_government = communism } }
					}
				}
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		ENG = { country_event = { id = IMPFED_events.18 days = 1 }	 }
	}	
}
#IMPFED decides on panana policy
country_event = {
	id = IMPFED_events.20
	title = IMPFED_events.20.t
	desc = IMPFED_events.20.d
	picture = GFX_report_event_british_inspect_troops
	
	is_triggered_only = yes	
	
	fire_only_once = yes
	
	# request a share in the canal
	option = {
		name = IMPFED_events.20.a
		add_political_power = -100
		685 = {
			owner = {
				country_event = {
					id = IMPFED_events.21
					days = 1
				}
			}
		}
		set_country_flag = demanded_ownership_panama
	}
	# request demilitarisation of the canal
	option = {
		name = IMPFED_events.20.b	
		685 = {
			owner = {
				country_event = {
					id = IMPFED_events.21
					days = 1
				}
			}
		}
		set_country_flag = demanded_demilitarisation_panama
	}	
	# request transfer to panama
	option = {
		name = IMPFED_events.20.c	
		trigger = {
			country_exists = PAN
		}	
		685 = {
			owner = {
				country_event = {
					id = IMPFED_events.21
					days = 1
				}
			}
		}
		set_country_flag = demanded_canal_to_panama
	}
	# demand complete ownership
	option = {
		name = IMPFED_events.20.e	
		trigger = {
			NOT = { has_government = democratic }
		}	
		add_political_power = -150
		685 = {
			owner = {
				country_event = {
					id = IMPFED_events.21
					days = 1
				}
			}
		}
		set_country_flag = demanded_panama_canal
	}
	#actually, the current situation works for us
	option = {
		name = IMPFED_events.20.f	
	}	
}	
#canal owner's response
country_event = {
	id = IMPFED_events.21
	title = IMPFED_events.21.t
	desc = IMPFED_events.21.d
	picture = GFX_report_event_british_inspect_troops
	
	is_triggered_only = yes	
	
	fire_only_once = yes
	
	# give britain a share
	option = {
		name = IMPFED_events.21.a
		trigger = { ENG = { has_country_flag = demanded_ownership_panama } }
		add_political_power = 100
		add_offsite_building = {
			type = industial_complex
			level = 3
		}	
		ENG = {
			country_event = {
				id = IMPFED_events.22
				days = 1
			}
		}
	}
	# request demilitarisation of the canal
	option = {
		name = IMPFED_events.21.b	
		trigger = { ENG = { has_country_flag = demanded_demilitarisation_panama } }
		685 = {
			set_demilitarized_zone = yes
		}
		ENG = {
			country_event = {
				id = IMPFED_events.23
				days = 1
			}
		}
	}	
	# request transfer to panama
	option = {
		name = IMPFED_events.21.c	
		trigger = { ENG = { has_country_flag = demanded_canal_to_panama } }
		PAN = {
			transfer_state = 685
		}
		ENG = {
			country_event = {
				id = IMPFED_events.24
				days = 1
			}
		}
	}
	# demand complete ownership
	option = {
		name = IMPFED_events.21.e	
		trigger = { ENG = { has_country_flag = demanded_panama_canal } }
		ai_chance = {
			factor = 0
		}	
		ENG = {
			transfer_state = 685
		}	
		ENG = {
			country_event = {
				id = IMPFED_events.25
				days = 1
			}
		}
	}
	# we give them nothing
	option = {
		name = IMPFED_events.21.f	
		ENG = {
			country_event = {
				id = IMPFED_events.26
				days = 1
			}
		}
	}
	
}	
# event for IMPFED saying that FROM has given a share in the canal
country_event = {
	id = IMPFED_events.22
	title = IMPFED_events.22.t
	desc = IMPFED_events.22.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	fire_only_once = yes
	
	# ok
	option = {
		name = IMPFED_events.22.a
		unlock_decision_tooltip = raise_panama_guards
		set_country_flag = IMPFED_share_in_panama_canal
	}
}
# event for IMPFED saying that FROM has demilitarised the canal
country_event = {
	id = IMPFED_events.23
	title = IMPFED_events.23.t
	desc = IMPFED_events.23.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	fire_only_once = yes
	
	# ok
	option = {
		name = IMPFED_events.23.a
	}
}
# event for IMPFED saying that FROM has transfered the canal to panama
country_event = {
	id = IMPFED_events.24
	title = IMPFED_events.24.t
	desc = IMPFED_events.24.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	fire_only_once = yes
	
	# ok
	option = {
		name = IMPFED_events.24.a
	}
}
# event for IMPFED saying that FROM has transfered the canal to the commonwealth
country_event = {
	id = IMPFED_events.25
	title = IMPFED_events.25.t
	desc = IMPFED_events.25.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	fire_only_once = yes
	
	# ok
	option = {
		name = IMPFED_events.25.a
	}
}
# event for IMPFED saying that FROM has transfered refused the demands
country_event = {
	id = IMPFED_events.26
	title = IMPFED_events.26.t
	desc = IMPFED_events.26.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	fire_only_once = yes
	
	# ok
	option = {
		name = IMPFED_events.26.a
		685 = {
			add_claim_by = ROOT
		}
	}
}
# event for the remilitarisation of the canal
country_event = {
	id = IMPFED_events.27
	title = IMPFED_events.27.t
	desc = IMPFED_events.27.d
	picture = GFX_report_event_generic_read_write
	
	trigger = {
		685 = { 
			is_owned_by = ROOT
			is_demilitarized_zone = yes
		}
		ROOT = { has_war = yes }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	fire_only_once = yes
	
	# ok
	option = {
		name = IMPFED_events.26.a
		685 = {
			set_demilitarized_zone = no
		}
	}
}

# Acquire Arab protectorates
country_event = {
	id = IMPFED_events.28
	title = IMPFED_events.28.t
	desc = IMPFED_events.28.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = { # ask nicely
		name = IMPFED_events.28.a
		if = {
			limit = {
				country_exists = SAU
			}
			SAU = {
				country_event = {
					id = IMPFED_events.29
					days = 1
				}
			}
		}
		
		if = {
			limit = {
				country_exists = IRQ
			}
			IRQ = {
				country_event = {
					id = IMPFED_events.29
					days = 1
				}
			}
		}
		if = {
			limit = {
				country_exists = OMA
			}
			OMA = {
				country_event = {
					id = IMPFED_events.29
					days = 1
				}
			}
		}
		if = {
			limit = {
				country_exists = YEM
			}
			YEM = {
				country_event = {
					id = IMPFED_events.29
					days = 1
				}
			}
		}
			
	}
	option = { # send diplomatic niceties
		name = IMPFED_events.28.b
		set_country_flag = IMPFED_small_effort_arabia
		add_political_power = -25	
		if = {
			limit = {
				country_exists = SAU
			}
			SAU = {
				country_event = {
					id = IMPFED_events.29
					days = 1
				}
				add_opinion_modifier = {
					target = ENG
					modifier = ENG_diplomatic_pressure
				}
			}
		}
		
		if = {
			limit = {
				country_exists = IRQ
			}
			IRQ = {
				country_event = {
					id = IMPFED_events.29
					days = 1
				}
				add_opinion_modifier = {
					target = ENG
					modifier = ENG_diplomatic_pressure
				}
			}
		}
		if = {
			limit = {
				country_exists = OMA
			}
			OMA = {
				country_event = {
					id = IMPFED_events.29
					days = 1
				}
				add_opinion_modifier = {
					target = ENG
					modifier = ENG_diplomatic_pressure
				}
			}
		}
		if = {
			limit = {
				country_exists = YEM
			}
			YEM = {
				country_event = {
					id = IMPFED_events.29
					days = 1
				}
				add_opinion_modifier = {
					target = ENG
					modifier = ENG_diplomatic_pressure
				}
			}
		}
	}
	option = { # make a real effort
		name = IMPFED_events.28.c
		add_political_power = -50
		set_country_flag = IMPFED_big_effort_arabia
		if = {
			limit = {
				country_exists = SAU
			}
			SAU = {
				country_event = {
					id = IMPFED_events.29
					days = 1
				}
				add_opinion_modifier = {
					target = ENG
					modifier = ENG_extensive_diplomatic_pressure
				}
			}
		}
		
		if = {
			limit = {
				country_exists = IRQ
			}
			IRQ = {
				country_event = {
					id = IMPFED_events.29
					days = 1
				}
				add_opinion_modifier = {
					target = ENG
					modifier = ENG_extensive_diplomatic_pressure
				}
			}
		}
		if = {
			limit = {
				country_exists = OMA
			}
			OMA = {
				country_event = {
					id = IMPFED_events.29
					days = 1
				}
				add_opinion_modifier = {
					target = ENG
					modifier = ENG_extensive_diplomatic_pressure
				}
			}
		}
		if = {
			limit = {
				country_exists = YEM
			}
			YEM = {
				country_event = {
					id = IMPFED_events.29
					days = 1
				}
				add_opinion_modifier = {
					target = ENG
					modifier = ENG_extensive_diplomatic_pressure
				}
			}
		}		
	}
	option = { # nevermind
		name = IMPFED_events.28.e
	}
}
# arabs recieve demands for protectorate
country_event = {
	id = IMPFED_events.29
	title = IMPFED_events.29.t
	desc = IMPFED_events.29.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	# agree & become dominion
	option = {
		name = IMPFED_events.29.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				ENG = { has_country_flag = IMPFED_big_effort_arabia }
			}
			modifier = {
				factor = 1.1
				ENG = { has_country_flag = IMPFED_small_effort_arabia }
			}	
		}	
		ENG = {
			country_event = {
				id = IMPFED_events.30
				days = 1
			}
		}
		set_country_flag = IMPFED_diplo_puppeted
		add_timed_idea = {
			idea = IMPFED_commonwealth_investments
			days = 365
		}
	}
	# never!
	option = {
		name = IMPFED_events.29.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				OR = {
					AND = {	
						has_government = democratic
						NOT = { ENG = { has_government = democratic } }
					}	
					AND = {	
						has_government = neutrality
						NOT = { ENG = { has_government = neutrality } }
					}
					AND = {	
						has_government = fascism
						NOT = { ENG = { has_government = fascism } }
					}
					AND = {	
						has_government = communism
						NOT = { ENG = { has_government = communism } }
					}
				}
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		ENG = {
			country_event = {
				id = IMPFED_events.31
				days = 1
			}
		}
	}
}
# notification for IMPFED that arab state has accepted protectorate
country_event = {
	id = IMPFED_events.30
	title = IMPFED_events.30.t
	desc = IMPFED_events.30.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	
	# excellent
	option = {
		name = IMPFED_events.30.a
		set_autonomy = {
			target = FROM
			autonomy_state = autonomy_dominion
		}	
	}
}
# notification for IMPFED that arab state has refused protectorate
country_event = {
	id = IMPFED_events.31
	title = IMPFED_events.31.t
	desc = IMPFED_events.31.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	# disappointing
	option = {
		name = IMPFED_events.31.a	
	}
	#this won't stand!
	option = {
		name = IMPFED_events.31.b
		trigger = { NOT = { has_government =  democratic } }
		every_state = {
			limit = {
				is_core_of = FROM
			}
			add_claim_by = ROOT
		}
	}	
}

# IMPFED demands that indian enclaves are handed over
country_event = {
	id = IMPFED_events.32
	title = IMPFED_events.32.t
	desc = IMPFED_events.32.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	# agree & hand over
	option = {
		name = IMPFED_events.32.a
		ai_chance = {
			factor = 50
		}	
		ENG = {
			country_event = {
				id = IMPFED_events.33
				days = 1
			}
		}
	}
	# never!
	option = {
		name = IMPFED_events.32.a
		ai_chance = {
			factor = 20
			modifier = {
				factor = 2
				OR = {
					AND = {	
						has_government = democratic
						NOT = { ENG = { has_government = democratic } }
					}	
					AND = {	
						has_government = neutrality
						NOT = { ENG = { has_government = neutrality } }
					}
					AND = {	
						has_government = fascism
						NOT = { ENG = { has_government = fascism } }
					}
					AND = {	
						has_government = communism
						NOT = { ENG = { has_government = communism } }
					}
				}
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		ENG = {
			country_event = {
				id = IMPFED_events.34
				days = 1
			}
		}
	}
}
# notification for IMPFED that FROM will hand over their indian exclave
country_event = {
	id = IMPFED_events.33
	title = IMPFED_events.33.t
	desc = IMPFED_events.33.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	
	# excellent
	option = {
		name = IMPFED_events.33.a	
		if = {
			limit = {
				320 = {
					is_owned_by = FROM
				}
			}
			ENG = { transfer_state = 320 }
		}	
		if = {
			limit = {
				321 = {
					is_owned_by = FROM
				}
			}
			ENG = { transfer_state = 321 }
		}
	}	
}
# notification for IMPFED that FROM will not hand over their indian exclave
country_event = {
	id = IMPFED_events.34
	title = IMPFED_events.34.t
	desc = IMPFED_events.34.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	
	# disappointing
	option = {
		name = IMPFED_events.34.a	
	}	
}
# IMPFED approaches NEP/BHU to join the commonwealth
country_event = {
	id = IMPFED_events.35
	title = IMPFED_events.35.t
	desc = IMPFED_events.35.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	# join the commonwealth
	option = {
		name = IMPFED_events.12.a
		ai_chance = {
			factor = 50
		}	
		ENG = {
			set_autonomy = {
				target = ROOT
				autonomy_state = autonomy_dominion
			}
		}
		add_timed_idea = {
			idea = IMPFED_commonwealth_investments
			days = 365
		}
		set_country_flag = IMPFED_diplo_puppeted
		ENG = { country_event = { id = IMPFED_events.17 days = 1 }	}
	}
	# no
	option = {
		name = IMPFED_events.12.b	
		ai_chance = {
			factor = 15
			modifier = {
				factor = 2
				OR = {
					AND = {	
						has_government = democratic
						NOT = { ENG = { has_government = democratic } }
					}	
					AND = {	
						has_government = neutrality
						NOT = { ENG = { has_government = neutrality } }
					}
					AND = {	
						has_government = fascism
						NOT = { ENG = { has_government = fascism } }
					}
					AND = {	
						has_government = communism
						NOT = { ENG = { has_government = communism } }
					}
				}
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		ENG = { country_event = { id = IMPFED_events.18 days = 1 }	 }
	}	
}

# dealing with siam
country_event = {
	id = IMPFED_events.36
	title = IMPFED_events.36.t
	desc = IMPFED_events.36.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	fire_only_once = yes
	
	# we have only one option - war
	option = {
		name = IMPFED_events.36.a	
		trigger = { NOT = { has_government = democratic } }
		create_wargoal = {
			target = SIA
			type = annex_everything
		}	
	}	
	option = { # split them with France
		name = IMPFED_events.36.b
		trigger = {
			OR = {
				AND = {
					741 = { is_owned_by = FRA }
					670 = { is_owned_by = FRA }
					671 = { is_owned_by = FRA }
					286 = { is_owned_by = FRA }
				}
				AND = {
					741 = { is_owned_by = JAP }
					670 = { is_owned_by = JAP }
					671 = { is_owned_by = JAP }
					286 = { is_owned_by = JAP }
					ENG = { is_in_faction_with = FRA }
				}		
			}
		}
		SIA = {
			country_event = {
				id = IMPFED_events.37
				days = 1
			}
		}
	}
	option = { # demand their submission
		name = IMPFED_events.36.c
		SIA = {
			country_event = {
				id = IMPFED_events.41
				days = 1
			}
		}
	}	
	option = { # we shall be on our guard
		name = IMPFED_events.36.e
	}	
}
country_event = { # SIA response - split with FRA
	id = IMPFED_events.37
	title = IMPFED_events.37.t
	desc = IMPFED_events.37.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	fire_only_once = yes
	
	# we cannot resist
	option = {
		name = IMPFED_events.37.a
		ai_chance = {
			factor = 30
		}	
		ENG = {
			country_event = {
				id = IMPFED_events.38
				days = 1
			}	
		}
		FRA = {
			country_event = {
				id = IMPFED_events.39
				days = 1
			}	
		}
	}
	# no
	option = {
		name = IMPFED_events.37.b	
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				OR = {
					AND = {	
						has_government = democratic
						NOT = { ENG = { has_government = democratic } }
					}	
					AND = {	
						has_government = neutrality
						NOT = { ENG = { has_government = neutrality } }
					}
					AND = {	
						has_government = fascism
						NOT = { ENG = { has_government = fascism } }
					}
					AND = {	
						has_government = communism
						NOT = { ENG = { has_government = communism } }
					}
				}
			}
			modifier = {
				factor = 2
					741 = { is_owned_by = JAP }
					670 = { is_owned_by = JAP }
					671 = { is_owned_by = JAP }
					286 = { is_owned_by = JAP }
			}
			modifier = {
				factor = 2
				is_in_faction_with = JAP
			}	
			modifier = {
				factor = 10
				has_war_with = ENG
			}	
		}
		ENG = { country_event = { id = IMPFED_events.40 days = 1 }	 }
	}	
}

# notification for IMPFED that SIA folds - split with FRA
country_event = {
	id = IMPFED_events.38
	title = IMPFED_events.38.t
	desc = IMPFED_events.38.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	fire_only_once = yes
	
	# northern malay is ours
	option = {
		name = IMPFED_events.38.a	
		ENG = { transfer_state = 724 }
	}	
}

# notification for FRA that SIA folds - split with IMPFED
country_event = {
	id = IMPFED_events.39
	title = IMPFED_events.39.t
	desc = IMPFED_events.39.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	fire_only_once = yes
	
	# siam is ours
	option = {
		name = IMPFED_events.39.a	
		FRA = { transfer_state = 289 }
	}	
}
# notification for IMPFED that SIA refuses - split with FRA
country_event = {
	id = IMPFED_events.40
	title = IMPFED_events.40.t
	desc = IMPFED_events.40.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	fire_only_once = yes
	
	# diplomacy has failed
	option = {
		name = IMPFED_events.40.a	
		create_wargoal = {
			target = SIA
			type = puppet_wargoal_focus
		}	
	}	
}

country_event = { # SIA response - demand puppet
	id = IMPFED_events.41
	title = IMPFED_events.41.t
	desc = IMPFED_events.41.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	fire_only_once = yes
	
	# we cannot resist
	option = {
		name = IMPFED_events.41.a
		ai_chance = {
			factor = 30
		}	
		ENG = {
			country_event = {
				id = IMPFED_events.42
				days = 1
			}	
		}
	}
	# no
	option = {
		name = IMPFED_events.41.b	
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				OR = {
					AND = {	
						has_government = democratic
						NOT = { ENG = { has_government = democratic } }
					}	
					AND = {	
						has_government = neutrality
						NOT = { ENG = { has_government = neutrality } }
					}
					AND = {	
						has_government = fascism
						NOT = { ENG = { has_government = fascism } }
					}
					AND = {	
						has_government = communism
						NOT = { ENG = { has_government = communism } }
					}
				}
			}
			modifier = {
				factor = 2
					741 = { is_owned_by = JAP }
					670 = { is_owned_by = JAP }
					671 = { is_owned_by = JAP }
					286 = { is_owned_by = JAP }
			}
			modifier = {
				factor = 2
				is_in_faction_with = JAP
			}	
			modifier = {
				factor = 10
				has_war_with = ENG
			}	
		}
		ENG = { country_event = { id = IMPFED_events.40 days = 1 }	 }
	}	
}
# notification for IMPFED that SIA accepts puppet
country_event = {
	id = IMPFED_events.42
	title = IMPFED_events.42.t
	desc = IMPFED_events.42.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	fire_only_once = yes
	
	# diplomacy has failed
	option = {
		name = IMPFED_events.42.a	
		set_autonomy = {
			target = SIA
			autonomy_state = autonomy_puppet
		}	
	}	
}

country_event = { # response to IMPFED requesting West Papua
	id = IMPFED_events.43
	title = IMPFED_events.43.t
	desc = IMPFED_events.43.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes	
	
	fire_only_once = yes
	
	# this is acceptable
	option = {
		name = IMPFED_events.43.a
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 1.3
				has_government = democratic
			}	
		}	
		ENG = {
			country_event = {
				id = IMPFED_events.44
				days = 1
			}	
		}
	}
	# no
	option = {
		name = IMPFED_events.43.b	
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				OR = {
					AND = {	
						has_government = democratic
						NOT = { ENG = { has_government = democratic } }
					}	
					AND = {	
						has_government = neutrality
						NOT = { ENG = { has_government = neutrality } }
					}
					AND = {	
						has_government = fascism
						NOT = { ENG = { has_government = fascism } }
					}
					AND = {	
						has_government = communism
						NOT = { ENG = { has_government = communism } }
					}
				}
			}
			modifier = {
				factor = 2
				is_in_faction_with = JAP
			}	
			modifier = {
				factor = 10
				has_war_with = ENG
			}	
		}
		ENG = { country_event = { id = IMPFED_events.45 days = 1 }	 }
	}	
}
# notification for IMPFED that FROM transferred West Papua
country_event = {
	id = IMPFED_events.44
	title = IMPFED_events.44.t
	desc = IMPFED_events.44.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	fire_only_once = yes
	
	# great
	option = {
		name = IMPFED_events.44.a	
		transfer_state = 669
	}	
}
# notification for IMPFED that FROM refused to transfer West Papua
country_event = {
	id = IMPFED_events.45
	title = IMPFED_events.45.t
	desc = IMPFED_events.45.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	fire_only_once = yes
	
	# bad
	option = {
		name = IMPFED_events.45.a	
		669 = { add_claim_by = ROOT }
	}	
}
# notification for a country recieving offer from IMPFED to help federalising their empire
country_event = {
	id = IMPFED_events.46
	title = IMPFED_events.46.t
	desc = IMPFED_events.46.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	fire_only_once = yes
	
	# yes
	option = {
		name = IMPFED_events.46.a	
		ai_chance = {
			factor = 1
		}	
		unlock_decision_category_tooltip = IMPFED_integrating_colonies_shared_expertise
		ENG = {
			country_event = {
				id = IMPFED_events.48
				days = 1
			}	
		}	
		set_country_flag = ENG_offered_federation_assistance
	}	
	# no
	option = {
		name = IMPFED_events.46.b
		ai_chance = {
			factor = 0
		}	
		ENG = {
			country_event = {
				id = IMPFED_events.49
				days = 1
			}	
		}	
	}
}
# notification for IMPFED recieving a request with aid of coring a territory for FROM
country_event = {
	id = IMPFED_events.47
	title = IMPFED_events.47.t
	desc = IMPFED_events.47.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	fire_only_once = yes
	
	# payment in Civs
	option = {
		name = IMPFED_events.47.a	
		add_offsite_building  = { type = industrial_complex level = 1 }
	}	
	# payment in Mils
	option = {
		name = IMPFED_events.47.b	
		add_offsite_building  = { type = arms_factory level = 1 }
	}	
	# payment in naval dockyards
	option = {
		name = IMPFED_events.47.c	
		add_offsite_building  = { type = dockyard level = 1 }
	}	
	# payment in labour
	option = {
		name = IMPFED_events.47.e	
		add_timed_idea = {
			idea = IMPFED_foreign_industrial_aid
			days = 150
		}	
	}	
}
# notification IMPFED that FROM accepted their offer to aid coring territory
country_event = {
	id = IMPFED_events.48
	title = IMPFED_events.48.t
	desc = IMPFED_events.48.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	fire_only_once = yes
	
	# good
	option = {
		name = IMPFED_events.48.a	
	}	
}
# notification IMPFED that FROM refused their offer to aid coring territory
country_event = {
	id = IMPFED_events.49
	title = IMPFED_events.49.t
	desc = IMPFED_events.49.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	fire_only_once = yes
	
	# bad
	option = {
		name = IMPFED_events.49.a	
	}	
}
# notification for rebel colony sponsored rebellion by IMPFED
country_event = {
	id = IMPFED_events.50
	title = IMPFED_events.50.t
	desc = IMPFED_events.50.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	fire_only_once = yes
	
	immediate = {
		set_country_flag = rebelled_with_IMPFED_help
	}			
	# for freedom!
	option = {
		name = IMPFED_events.50.a	
	}	
}
# event for diplo-vassalised nations to change their ruling party back
country_event = {
	id = IMPFED_events.51
	title = IMPFED_events.51.t
	desc = IMPFED_events.51.d
	picture = GFX_report_event_generic_read_write
	
	trigger = {
		has_country_flag = IMPFED_diplo_puppeted
		NOT = { has_country_flag = politics_restored }
	}	
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		if = {
			limit = {
				tag = DOM
			}
			set_politics = {
				ruling_party = fascism
				election_frequency = 48
				elections_allowed = no
			}
			set_popularities = {
				fascism = 100
			}
		}
		if = {
			limit = {
				tag = HAI
			}
			set_politics = {
				ruling_party = democratic
				election_frequency = 48
				elections_allowed = no
			}
			set_popularities = {
				democratic = 100
			}
		}
		if = {
			limit = {
				tag = CUB
			}
			set_politics = {
				ruling_party = democratic
				election_frequency = 48
				elections_allowed = yes
			}
			set_popularities = {
				democratic = 98
				communism = 2
			}
		}
		if = {
			limit = {
				tag = GUA
			}
			set_politics = {
				ruling_party = neutrality
				election_frequency = 48
				elections_allowed = no
			}
			set_popularities = {
				democratic = 30
				neutrality = 70
			}
		}
		if = {
			limit = {
				tag = ELS
			}	
			set_politics = {
				ruling_party = fascism
				election_frequency = 48
				elections_allowed = yes
			}
			set_popularities = {
				fascism = 100
			}
		}
		if = {
			limit = {
				tag = HON
			}
			set_politics = {
				ruling_party = democratic
				election_frequency = 48
				elections_allowed = yes
			}
			set_popularities = {
				democratic = 100
			}
		}
		if = {
			limit = {
				tag = NIC
			}
			set_politics = {
				ruling_party = neutrality
				election_frequency = 48
				elections_allowed = no
			}
			set_popularities = {
				democratic = 15
				fascism = 5
				communism = 10
				neutrality = 70
			}
		}
		if = {
			limit = {
				tag = COS
			}	
			set_politics = {
				ruling_party = democratic
				election_frequency = 48
				elections_allowed = yes
			}

			set_popularities = {
				democratic = 98
				fascism = 2
			}
		}
		if = {
			limit = {
				tag = PAN
			}
			set_politics = {
				ruling_party = democratic
				election_frequency = 48
				elections_allowed = yes
			}
			set_popularities = {
				democratic = 100
			}
		}	
		if = {
			limit = {
				tag = YEM
			}
			set_politics = {
				ruling_party = neutrality
				election_frequency = 48
				elections_allowed = no
			}
			set_popularities = {
				neutrality = 100
			}
		}
		if = {
			limit = {
				tag = OMA
			}
			set_politics = {
				ruling_party = neutrality
				election_frequency = 48
				elections_allowed = no
			}
			set_popularities = {
				neutrality = 100
			}
		}
		if = {
			limit = {
				tag = SAU
			}
			set_politics = {
				ruling_party = neutrality
				election_frequency = 48
				elections_allowed = no
			}
			set_popularities = {
				neutrality = 100
			}
		}
		if = {
			limit = {
				tag = IRQ
			}
			set_politics = {
				ruling_party = neutrality
				election_frequency = 48
				elections_allowed = no
			}
			set_popularities = {
				fascism = 20
				neutrality = 80
			}	
		}
		if = {
			limit = {
				tag = PER
			}
			set_politics = {
				ruling_party = neutrality
				election_frequency = 48
				elections_allowed = no
			}
			set_popularities = {
				neutrality = 100
			}	
		}	
		if = {
			limit = {
				tag = AFG
			}
			set_politics = {
				ruling_party = neutrality
				election_frequency = 48
				elections_allowed = no
			}

			set_popularities = {
				fascism = 15
				communism = 10
				neutrality = 75
			}	
		}	
		if = {
			limit = {
				tag = NEP
			}
			set_politics = {
				ruling_party = neutrality
				election_frequency = 48
				elections_allowed = no
			}
			set_popularities = {
				neutrality = 100
			}
		}
		if = {
			limit = {
				tag = BHU
			}
			set_politics = {
				ruling_party = neutrality
				election_frequency = 48
				elections_allowed = no
			}

			set_popularities = {
				neutrality = 100
			}
		}
		if = {
			limit = {
				tag = YUN
			}
			set_politics = {
				ruling_party = neutrality
				election_frequency = 48
				elections_allowed = no
			}
			set_popularities = {
				fascism = 20
				neutrality = 80
			}
		}
		if = {
			limit = {
				tag = GXC
			}
			set_politics = {
				ruling_party = neutrality
				election_frequency = 48
				elections_allowed = no
			}
			set_popularities = {
				neutrality = 100
			}
		}
		set_country_flag = politics_restored
		clr_country_flag = IMPFED_diplo_puppeted
	}			
	# for freedom!
	option = {
		name = IMPFED_events.51.a	
	}	
}

# demand submission from Persia
country_event = {
	id = IMPFED_events.52
	title = IMPFED_events.52.t
	desc = IMPFED_events.52.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = { # ask nicely
		name = IMPFED_events.28.a
		PER = {
			country_event = {
				id = IMPFED_events.56
				days = 1
			}
		}	
			
	}
	option = { # send diplomatic niceties
		name = IMPFED_events.28.b
		add_political_power = -25	
		PER = {
			country_event = {
				id = IMPFED_events.56
				days = 1
			}
			add_opinion_modifier = {
				target = ENG
				modifier = ENG_diplomatic_pressure
			}
		}	
	}
	option = { # make a real effort
		name = IMPFED_events.28.c
		add_political_power = -50
		PER = {
			country_event = {
				id = IMPFED_events.56
				days = 1
			}
			add_opinion_modifier = {
				target = ENG
				modifier = ENG_extensive_diplomatic_pressure
			}
		}		
	}
	option = { # nevermind
		name = IMPFED_events.28.e
	}
}
# demand submission from afghanistan
country_event = {
	id = IMPFED_events.53
	title = IMPFED_events.53.t
	desc = IMPFED_events.53.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = { # ask nicely
		name = IMPFED_events.28.a
		AFG = {
			country_event = {
				id = IMPFED_events.56
				days = 1
			}
		}	
			
	}
	option = { # send diplomatic niceties
		name = IMPFED_events.28.b
		add_political_power = -25	
		AFG = {
			country_event = {
				id = IMPFED_events.56
				days = 1
			}
			add_opinion_modifier = {
				target = ENG
				modifier = ENG_diplomatic_pressure
			}
		}	
	}
	option = { # make a real effort
		name = IMPFED_events.28.c
		add_political_power = -50
		AFG = {
			country_event = {
				id = IMPFED_events.56
				days = 1
			}
			add_opinion_modifier = {
				target = ENG
				modifier = ENG_extensive_diplomatic_pressure
			}
		}		
	}
	option = { # nevermind
		name = IMPFED_events.28.e
	}
}

# demand submission from Yunnan
country_event = {
	id = IMPFED_events.54
	title = IMPFED_events.54.t
	desc = IMPFED_events.54.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = { # ask nicely
		name = IMPFED_events.28.a
		YUN = {
			country_event = {
				id = IMPFED_events.56
				days = 1
			}
		}	
			
	}
	option = { # send diplomatic niceties
		name = IMPFED_events.28.b
		add_political_power = -25	
		YUN = {
			country_event = {
				id = IMPFED_events.56
				days = 1
			}
			add_opinion_modifier = {
				target = ENG
				modifier = ENG_diplomatic_pressure
			}
		}	
	}
	option = { # make a real effort
		name = IMPFED_events.28.c
		add_political_power = -50
		YUN = {
			country_event = {
				id = IMPFED_events.56
				days = 1
			}
			add_opinion_modifier = {
				target = ENG
				modifier = ENG_extensive_diplomatic_pressure
			}
		}		
	}
	option = { # nevermind
		name = IMPFED_events.28.e
	}
}
# demand submission from GXC
country_event = {
	id = IMPFED_events.55
	title = IMPFED_events.55.t
	desc = IMPFED_events.55.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = { # ask nicely
		name = IMPFED_events.28.a
		GXC = {
			country_event = {
				id = IMPFED_events.56
				days = 1
			}
		}	
			
	}
	option = { # send diplomatic niceties
		name = IMPFED_events.28.b
		add_political_power = -25	
		GXC = {
			country_event = {
				id = IMPFED_events.56
				days = 1
			}
			add_opinion_modifier = {
				target = ENG
				modifier = ENG_diplomatic_pressure
			}
		}	
	}
	option = { # make a real effort
		name = IMPFED_events.28.c
		add_political_power = -50
		GXC = {
			country_event = {
				id = IMPFED_events.56
				days = 1
			}
			add_opinion_modifier = {
				target = ENG
				modifier = ENG_extensive_diplomatic_pressure
			}
		}		
	}
	option = { # nevermind
		name = IMPFED_events.28.e
	}
}
# PER/AFG/YUN/GXC recieve demand to submit
country_event = {
	id = IMPFED_events.56
	title = IMPFED_events.56.t
	desc = IMPFED_events.56.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	
	# agree & become dominion
	option = {
		name = IMPFED_events.56.a
		ai_chance = {
			factor = 50
		}	
		ENG = {
			country_event = {
				id = IMPFED_events.30
				days = 1
			}
		}
		set_country_flag = IMPFED_diplo_puppeted
		add_timed_idea = {
			idea = IMPFED_commonwealth_investments
			days = 365
		}
	}
	# never!
	option = {
		name = IMPFED_events.56.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				strength_ratio = { tag = ENG ratio < 0.5 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 99 }
			}
			modifier = {
				factor = 0.8
				strength_ratio = { tag = ENG ratio < 0.3 }
			}
			modifier = {
				factor = 0.8
				strength_ratio = { tag = ENG ratio < 0.2 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = ENG ratio < 0.1 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
			modifier = {
				factor = 2
				OR = {
					tag = YUN
					tag = GXC
				}
				is_in_faction_with = CHI
			}	
		}
		ENG = {
			country_event = {
				id = IMPFED_events.31
				days = 1
			}
		}
	}
}

# Event for Iran/Afghanistan demanding puppet status
country_event = {
	id = IMPFED_events.79
	title = mtg_britain.79.t
	desc = mtg_britain.79.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	# We have no choice
	option = {
		name = mtg_britain.79.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				strength_ratio = { tag = ENG ratio > 1 }
			}
		}
		effect_tooltip = {
			ENG = {
				puppet = ROOT
			}
		}
		set_country_flag = IMPFED_diplo_puppeted
		FROM = { country_event = { id = mtg_britain.80 hours = 6 } }
		hidden_effect = { news_event = { id = mtg_news.28 hours = 30 } }
	}

	# Never!
	option = {
		name = mtg_britain.79.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.8
				strength_ratio = { tag = ENG ratio < 0.5 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 99 }
			}
			modifier = {
				factor = 0.8
				strength_ratio = { tag = ENG ratio < 0.3 }
			}
			modifier = {
				factor = 0.8
				strength_ratio = { tag = ENG ratio < 0.2 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = ENG ratio < 0.1 }
			}
			modifier = {
				factor = 0.8
				SOV = { has_completed_focus = SOV_anti_colonialist_rebels }
			}
			modifier = {
				factor = 0
				OR = {
					SOV = {
						focus_progress = { focus = SOV_southern_thrust progress > 0 }
						has_completed_focus = SOV_southern_thrust
					}
					has_war_with = SOV
				}
			}
		}
		effect_tooltip = {
			if = {
				limit = {
					tag = PER
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = PER
				}
			}
			if = {
				limit = {
					tag = AFG
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = AFG
				}
			}
		}
		FROM = { country_event = { id = mtg_britain.81 hours = 6 } }
		hidden_effect = { news_event = { id = mtg_news.29 hours = 30 } }
	}
}

# Move to Secure the Dominions - Propaganda notification event for the dominions
country_event = {
	id = IMPFED_events.64
	title = mtg_britain.64.t
	desc = mtg_britain.64.d
	picture = GFX_report_event_generic_rally2

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.64.a
		effect_tooltip = {
			if = {
				limit = {
					ENG = { has_government = fascism }
				}
				add_timed_idea = { idea = ENG_dominion_fascist_propaganda days = 90 }
			}
			if = {
				limit = {
					ENG = { has_government = communism }
				}
				add_timed_idea = { idea = ENG_dominion_communist_propaganda days = 90 }
			}
			if = {
				limit = {
					ENG = { OR = { has_government = democratic has_government = neutrality } }
				}
				add_timed_idea = { idea = ENG_dominion_neutrality_propaganda days = 90 }
			}
		}
		if = {
			limit = {
				ENG = { has_government = communism }
				NOT = { USA = { has_government = communism } }
				tag = CAN
			}
			USA = { country_event = { id = mtg_britain.68 days = 1 } }
		}
	}
}

# Move to Secure the Dominions - Replace Government notification event for the dominions
country_event = {
	id = IMPFED_events.65
	title = mtg_britain.65.t
	desc = mtg_britain.65.d
	picture = GFX_report_event_generic_parliament

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.65.a
		effect_tooltip = {
			if = {
				limit = {
					ENG = { has_government = neutrality }
				}
				set_politics = { ruling_party = neutrality elections_allowed = no }
				add_popularity = { ideology = neutrality popularity = 0.2 }
				add_ideas = neutrality_influence
					
			}
			if = {
				limit = {
					ENG = { has_government = fascism }
				}
				set_politics = { ruling_party = fascism elections_allowed = no }
				add_popularity = { ideology = fascism popularity = 0.2 }
				add_ideas = fascist_influence
			}
			if = {
				limit = {
					ENG = { has_government = communism }
				}
				set_politics = { ruling_party = communism elections_allowed = no }
				add_popularity = { ideology = communism popularity = 0.2 }
				add_ideas = communist_influence
			}
		}
		hidden_effect = { news_event = { id = mtg_news.32 days = 1 } }
	}
}

# Imperialist civil war - return of the governor-general
country_event = {
	id = IMPFED_events.66
	title = IMPFED_events.66.t
	desc = IMPFED_events.66.d
	picture = GFX_report_event_generic_parliament

	trigger = {
		OR = {
			has_cosmetic_tag = ENG_imperialist_canada
			has_cosmetic_tag = ENG_imperialist_south_africa
			has_cosmetic_tag = ENG_imperialist_australia
			has_cosmetic_tag = ENG_imperialist_new_zealand
		}
		NOT = { has_country_flag = governor_general_returns }
	}
	
	mean_time_to_happen = {
		days = 30
	}	
	
	# Ok
	option = {
		name = IMPFED_events.66.a
			if = {
				limit = {
					original_tag = CAN
				}
				add_stability = 0.1
				
				create_country_leader = {
					name = "Alexander Cambridge"
					desc = "POLITICS_WILLIAM_BIRDWOOD_DESC"
					picture = "gfx/leaders/ENG/Portrait_ENG_Alexander_Cambridge.tga"
					expire = "1965.1.1"
					ideology = centrism
					traits = {			
					}
				}
				hidden_effect = {
					CAN = {
						every_unit_leader = {
							set_nationality = ROOT
						}
					}
				}
			}	
			if = {
				limit = {
					original_tag = SAF
				}
				add_stability = 0.1
				
				create_country_leader = {
					name = "Patrick Duncan"
					desc = "POLITICS_WILLIAM_BIRDWOOD_DESC"
					picture = "gfx/leaders/ENG/Portrait_ENG_Patrick_Duncan.tga"
					expire = "1965.1.1"
					ideology = centrism
					traits = {
						
					}
				}
				hidden_effect = {
					SAF = {
						every_unit_leader = {
							set_nationality = ROOT
						}
					}
				}
			}	
			if = {
				limit = {
					original_tag = AST
				}
				add_stability = 0.1
				
				hidden_effect = {
					AST = {
						every_unit_leader = {
							set_nationality = ROOT
						}
					}
				}
			}
			
			if = {
				limit = {
					original_tag = NZL
				}
				add_stability = 0.1
				
				create_country_leader = {
					name = "George Monckton-Arundell"
					desc = "POLITICS_WILLIAM_BIRDWOOD_DESC"
					picture = "gfx/leaders/ENG/Portrait_ENG_George_Monckton_Arundell.tga"
					expire = "1965.1.1"
					ideology = centrism
					traits = {
						
					}
				}
				hidden_effect = {
					NZL = {
						every_unit_leader = {
							set_nationality = ROOT
						}
					}
				}
			}
		set_country_flag = 	governor_general_returns
	}
}
# Event for ENG and Dominions notifying of Imperial Conference
country_event = {
	id = IMPFED_events.82
	title = mtg_britain.82.t
	desc = mtg_britain.82.d
	picture = GFX_report_event_imperial_conference

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.82.a
		trigger = {
			tag = ENG
		}
		activate_mission = IMPFED_imperial_conference_decision
		set_country_flag = { flag = IMPFED_imperial_conference_timer_flag value = 1 days = 60 }
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
				}
			}
			add_opinion_modifier = { target = ROOT modifier = ENG_imperial_conference_opinion }
			custom_effect_tooltip = mtg_britain.82_tt
		}
	}

	# Ok
	option = {
		name = mtg_britain.82.b
		trigger = {
			NOT = { tag = ENG }
		}
		effect_tooltip = { add_opinion_modifier = { target = FROM modifier = ENG_imperial_conference_opinion } }
	}
}

# Event for ENG beginning discussions on Imperial Defense
country_event = {
	id = IMPFED_events.83
	title = mtg_britain.83.t
	desc = mtg_britain.83.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = ENG_imperial_defense_flag
		}
	}
	
	# Ask them if they want to agree to commit
	option = {
		name = mtg_britain.83.a
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
					AND = {
						tag = IRE
						has_country_flag = IRE_attended_conference
					}	
				}
			}
			country_event = { id = IMPFED_events.84 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}

	# Exert diplomatic pressure
	option = {
		name = mtg_britain.83.b
		add_political_power = -25
		set_country_flag = ENG_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
					AND = {
						tag = IRE
						has_country_flag = IRE_attended_conference
					}	
				}
			}
			country_event = { id = IMPFED_events.84 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
	# Exert extensive diplomatic pressure
	option = {
		name = mtg_britain.83.c
		add_political_power = -50
		set_country_flag = ENG_extensive_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
					AND = {
						tag = IRE
						has_country_flag = IRE_attended_conference
					}	
				}
			}
			country_event = { id = IMPFED_events.84 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
}

# Event for Dominions asking for vote on Imperial Defense
country_event = {
	id = IMPFED_events.84
	title = mtg_britain.83.t
	desc = mtg_britain.84.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.84.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 3
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
		}
		add_political_power = -25
		add_timed_idea = { idea = ENG_imperial_conference_defense_dominion days = 365 }
		add_opinion_modifier = {
			target = FROM
			modifier = ENG_imperial_conference_approved_resolution
		}
		FROM = { country_event = { id = IMPFED_events.85 } }
		ENG = {
			if = {
				limit = {
					NOT = {
						check_variable = {
							var = ENG_imperial_conference_defense_accepted
							value = 1
							compare = greater_than_or_equals
						}
					}
				}
				set_variable = {
					var = ENG_imperial_conference_defense_accepted
					value = 0
				}
			}
			add_to_variable = {
				var = ENG_imperial_conference_defense_accepted
				value = 1
			}
		}
	}

	# Reject
	option = {
		name = mtg_britain.84.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		FROM = { country_event = { id = IMPFED_events.86 } }
	}
}

# Event for ENG telling FROM voted yes on Imperial Defense
country_event = {
	id = IMPFED_events.85
	title = mtg_britain.85.t
	desc = mtg_britain.85.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.85.a
		effect_tooltip = {
			FROM = {
				add_political_power = -25
				add_timed_idea = { idea = ENG_imperial_conference_defense_dominion days = 365 }
				add_opinion_modifier = {
					target = ROOT
					modifier = ENG_imperial_conference_approved_resolution
				}
			}
		}
		ENG_imperial_conference_defense_level_up = yes
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_defense_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_defense_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_defense_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
	}
}

# Event for ENG telling FROM voted no on Imperial Defense
country_event = {
	id = IMPFED_events.86
	title = mtg_britain.86.t
	desc = mtg_britain.86.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.86.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_defense_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_defense_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_defense_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
	}
}

# Event for ENG beginning discussions on Imperial Trade
country_event = {
	id = IMPFED_events.87
	title = mtg_britain.87.t
	desc = mtg_britain.87.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = ENG_imperial_trade_flag
		}
	}
	
	# Ask them if they want to agree to commit
	option = {
		name = mtg_britain.83.a
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
					AND = {
						tag = IRE
						has_country_flag = IRE_attended_conference
					}	
				}
			}
			country_event = { id = IMPFED_events.88 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}

	# Exert diplomatic pressure
	option = {
		name = mtg_britain.83.b
		add_political_power = -25
		set_country_flag = ENG_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
					AND = {
						tag = IRE
						has_country_flag = IRE_attended_conference
					}	
				}
			}
			country_event = { id = IMPFED_events.88 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
	# Exert extensive diplomatic pressure
	option = {
		name = mtg_britain.83.c
		add_political_power = -50
		set_country_flag = ENG_extensive_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
					AND = {
						tag = IRE
						has_country_flag = IRE_attended_conference
					}	
				}
			}
			country_event = { id = IMPFED_events.88 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
}

# Event for Dominions asking for vote on Imperial Trade
country_event = {
	id = IMPFED_events.88
	title = mtg_britain.87.t
	desc = mtg_britain.88.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.88.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 3
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
		}
		add_ideas = free_trade
		add_opinion_modifier = {
			target = FROM
			modifier = ENG_imperial_conference_approved_resolution
		}
		reverse_add_opinion_modifier = { target = FROM modifier = ENG_imperial_trade }
		FROM = { country_event = { id = IMPFED_events.89 } }
	}

	# Reject
	option = {
		name = mtg_britain.88.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
			modifier = {
				factor = 0.5
				tag = IRE
			}	
		}
		FROM = { country_event = { id = IMPFED_events.90 } }
	}
}

# Event for ENG telling FROM voted yes on Imperial Trade
country_event = {
	id = IMPFED_events.89
	title = mtg_britain.89.t
	desc = mtg_britain.89.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.89.a
		effect_tooltip = {
			FROM = {
				add_ideas = free_trade
				add_opinion_modifier = {
					target = ROOT
					modifier = ENG_imperial_conference_approved_resolution
				}
			}
			add_opinion_modifier = { target = FROM modifier = ENG_imperial_trade }
		}
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_trade_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_trade_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_trade_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
	}
}

# Event for ENG telling FROM voted no on Imperial Trade
country_event = {
	id = IMPFED_events.90
	title = mtg_britain.90.t
	desc = mtg_britain.90.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.90.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_trade_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_trade_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_trade_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
	}
}

# Event for ENG beginning discussions on Imperial Economy
country_event = {
	id = IMPFED_events.91
	title = mtg_britain.91.t
	desc = mtg_britain.91.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = ENG_imperial_economy_flag
		}
	}
	
	# Ask them if they want to agree to commit
	option = {
		name = mtg_britain.83.a
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
					AND = {
						tag = IRE
						has_country_flag = IRE_attended_conference
					}	
				}
			}
			country_event = { id = IMPFED_events.92 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}

	# Exert diplomatic pressure
	option = {
		name = mtg_britain.83.b
		add_political_power = -25
		set_country_flag = ENG_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
					AND = {
						tag = IRE
						has_country_flag = IRE_attended_conference
					}	
				}
			}
			country_event = { id = IMPFED_events.92 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
	# Exert extensive diplomatic pressure
	option = {
		name = mtg_britain.83.c
		add_political_power = -50
		set_country_flag = ENG_extensive_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
					AND = {
						tag = IRE
						has_country_flag = IRE_attended_conference
					}	
				}
			}
			country_event = { id = IMPFED_events.92 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
}

# Event for Dominions asking for vote on Imperial Economy
country_event = {
	id = IMPFED_events.92
	title = mtg_britain.91.t
	desc = mtg_britain.92.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.92.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 3
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
		}
		add_political_power = -25
		add_timed_idea = { idea = ENG_imperial_conference_economy_dominion days = 365 }
		add_opinion_modifier = {
			target = FROM
			modifier = ENG_imperial_conference_approved_resolution
		}
		FROM = { country_event = { id = IMPFED_events.93 } }
		ENG = {
			if = {
				limit = {
					NOT = {
						check_variable = {
							var = ENG_imperial_conference_economy_accepted
							value = 1
							compare = greater_than_or_equals
						}
					}
				}
				set_variable = {
					var = ENG_imperial_conference_economy_accepted
					value = 0
				}
			}
			add_to_variable = {
				var = ENG_imperial_conference_economy_accepted
				value = 1
			}
		}
	}

	# Reject
	option = {
		name = mtg_britain.92.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		FROM = { country_event = { id = IMPFED_events.94 } }
	}
}

# Event for ENG telling FROM voted yes on Imperial Economy
country_event = {
	id = IMPFED_events.93
	title = mtg_britain.93.t
	desc = mtg_britain.93.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.93.a
		effect_tooltip = {
			FROM = {
				add_political_power = -25
				add_timed_idea = { idea = ENG_imperial_conference_economy_dominion days = 365 }
				add_opinion_modifier = {
					target = ROOT
					modifier = ENG_imperial_conference_approved_resolution
				}
			}
		}
		ENG_imperial_conference_economy_level_up = yes
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_economy_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_economy_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_economy_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
	}
}

# Event for ENG telling FROM voted no on Imperial Economy
country_event = {
	id = IMPFED_events.94
	title = mtg_britain.94.t
	desc = mtg_britain.94.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.94.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_economy_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_economy_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_economy_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
	}
}

# Event for ENG beginning discussions on Appeasement
country_event = {
	id = IMPFED_events.95
	title = mtg_britain.95.t
	desc = mtg_britain.95.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = ENG_imperial_appeasement_flag
		}
	}
	
	# Ask them if they want to agree to commit
	option = {
		name = mtg_britain.83.a
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
					AND = {
						tag = IRE
						has_country_flag = IRE_attended_conference
					}	
				}
			}
			country_event = { id = IMPFED_events.96 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}

	# Exert diplomatic pressure
	option = {
		name = mtg_britain.83.b
		add_political_power = -25
		set_country_flag = ENG_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
					AND = {
						tag = IRE
						has_country_flag = IRE_attended_conference
					}	
				}
			}
			country_event = { id = IMPFED_events.96 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
	# Exert extensive diplomatic pressure
	option = {
		name = mtg_britain.83.c
		add_political_power = -50
		set_country_flag = ENG_extensive_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
					AND = {
						tag = IRE
						has_country_flag = IRE_attended_conference
					}	
				}
			}
			country_event = { id = IMPFED_events.96 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
}

# Event for Dominions asking for vote on Appeasement
country_event = {
	id = IMPFED_events.96
	title = mtg_britain.95.t
	desc = mtg_britain.96.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.96.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 3
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
		}
		add_political_power = -25
		add_war_support = 0.1
		add_opinion_modifier = {
			target = FROM
			modifier = ENG_imperial_conference_approved_resolution
		}
		effect_tooltip = { FROM = { add_war_support = 0.03 } }
		FROM = { country_event = { id = IMPFED_events.97 } }
	}

	# Reject
	option = {
		name = mtg_britain.96.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
		}
		FROM = { country_event = { id = IMPFED_events.98 } }
	}
}

# Event for ENG telling FROM voted yes on Appeasement
country_event = {
	id = IMPFED_events.97
	title = mtg_britain.97.t
	desc = mtg_britain.97.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.97.a
		effect_tooltip = {
			FROM = {
				add_political_power = -25
				add_war_support = 0.1
				add_opinion_modifier = {
					target = ROOT
					modifier = ENG_imperial_conference_approved_resolution
				}
			}
		}
		add_war_support = 0.03
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_appeasement_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_appeasement_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_appeasement_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
	}
}

# Event for ENG telling FROM voted no on Appeasement
country_event = {
	id = IMPFED_events.98
	title = mtg_britain.98.t
	desc = mtg_britain.98.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.98.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_appeasement_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_appeasement_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_appeasement_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
	}
}

# Event for ENG beginning discussions on Imperial Federation
country_event = {
	id = IMPFED_events.99
	title = mtg_britain.99.t
	desc = mtg_britain.99.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = ENG_imperial_federation_flag
		}
	}
	
	# Ask them if they want to agree to Federate
	option = {
		name = mtg_britain.83.a
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
					AND = {
						tag = IRE
						has_country_flag = IRE_attended_conference
					}	
				}
			}
			country_event = { id = IMPFED_events.100 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}

	# Exert diplomatic pressure
	option = {
		name = mtg_britain.83.b
		add_political_power = -25
		set_country_flag = ENG_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
					AND = {
						tag = IRE
						has_country_flag = IRE_attended_conference
					}	
				}
			}
			country_event = { id = IMPFED_events.100 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
	# Exert extensive diplomatic pressure
	option = {
		name = mtg_britain.83.c
		add_political_power = -50
		set_country_flag = ENG_extensive_diplomatic_pressure_flag
		every_country = {
			limit = {
				OR = {
					AND = {
						is_subject_of = ENG
						tag = CAN
					}
					AND = {
						is_subject_of = ENG
						tag = SAF
					}
					AND = {
						is_subject_of = ENG
						tag = RAJ
					}
					AND = {
						is_subject_of = ENG
						tag = AST
					}
					AND = {
						is_subject_of = ENG
						tag = NZL
					}
					AND = {
						tag = IRE
						has_country_flag = IRE_attended_conference
					}	
				}
			}
			country_event = { id = IMPFED_events.100 hours = 48 random_hours = 24 }
		}
		ENG_imperial_conference_set_subject_counter = yes
	}
}

# Event for Dominions asking for vote on Imperial Federation
country_event = {
	id = IMPFED_events.100
	title = mtg_britain.99.t
	desc = mtg_britain.100.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Accept
	option = {
		name = mtg_britain.100.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 3
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 0
				tag = RAJ
				ENG = { NOT = { has_completed_focus = ENG_indian_autonomy } }
			}
			modifier = {
				factor = 0.5
				tag = IRE
				IRE = { 
					has_opinion = {
						target = ENG
						value < 95
					}
				}
			}
			modifier = {
				factor = 0.75
				tag = IRE
			}	
			modifier = {
				factor = 0
				tag = IRE
				has_opinion = { target = ENG value < 10 }
			}	
		}
		custom_effect_tooltip = mtg_britain.100_tt #"If all accept you will get:"
		effect_tooltip = { add_ideas = ENG_federal_integration }
		set_country_flag = ENG_accepted_federation
		FROM = { country_event = { id = IMPFED_events.101 } }
	}

	# Reject
	option = {
		name = mtg_britain.100.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 0 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 25 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 50 }
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = ENG value > 75 }
			}
			modifier = {
				factor = 0
				tag = RAJ
				ENG = { has_completed_focus = ENG_indian_autonomy }
				has_opinion = { target = ENG value > 99 }
			}
			modifier = {
				factor = 0
				tag = RAJ
				ENG = { has_completed_focus = ENG_indian_autonomy }
				has_opinion = { target = ENG value > 89 }
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 0
				tag = RAJ
				ENG = { has_completed_focus = ENG_indian_autonomy }
				has_opinion = { target = ENG value > 79 }
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 0
				NOT = { 
					OR = {
						tag = RAJ 
						tag = IRE
					}
				}	
				has_opinion = { target = ENG value > 99 }
			}
			modifier = {
				factor = 0
				NOT = { 
					OR = {
						tag = RAJ 
						tag = IRE
					}
				}	
				has_opinion = { target = ENG value > 89 }
				FROM = { has_country_flag = ENG_diplomatic_pressure_flag }
			}
			modifier = {
				factor = 0
				NOT = { 
					OR = {
						tag = RAJ 
						tag = IRE
					}
				}	
				has_opinion = { target = ENG value > 79 }
				FROM = { has_country_flag = ENG_extensive_diplomatic_pressure_flag }
			}
			modifier  = {
				factor = 1.2
				tag = IRE
			}	
		}
		set_country_flag = ENG_rejected_federation
		FROM = { country_event = { id = IMPFED_events.102 } }
	}
}

# Event for ENG telling FROM voted yes on Imperial Federation
country_event = {
	id = IMPFED_events.101
	title = mtg_britain.101.t
	desc = mtg_britain.101.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.101.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_federation_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_federation_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_federation_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
		if = {
			limit = {
				check_variable = { var = ENG_imperial_conference_federation_answers value = ENG_imperial_conference_number_of_subjects compare = equals }
				NOT = {
					any_country = {
						OR = {
							tag = CAN
							tag = SAF
							tag = RAJ
							tag = AST
							tag = NZL
						}
						has_country_flag = ENG_rejected_federation
					}
				}
			}
			country_event = { id = IMPFED_events.103 hours = 6 }
		}
		if = {
			limit = {
				RAJ = {
					is_subject_of = ENG
					has_country_flag = ENG_rejected_federation
				}
				check_variable = { var = ENG_imperial_conference_federation_answers value = ENG_imperial_conference_number_of_subjects compare = equals }
				NOT = {
					any_country = {
						OR = {
							tag = CAN
							tag = SAF
							tag = AST
							tag = NZL
						}
						has_country_flag = ENG_rejected_federation
					}
				}
			}
			country_event = { id = IMPFED_events.104 hours = 6 }
		}
		if = {
			limit = {
				check_variable = { var = ENG_imperial_conference_federation_answers value = ENG_imperial_conference_number_of_subjects compare = equals }
				any_country = {
					OR = {
						tag = CAN
						tag = SAF
						tag = AST
						tag = NZL
					}
					has_country_flag = ENG_rejected_federation
				}
			}
			country_event = { id = IMPFED_events.105 hours = 6 }
		}
	}
}

# Event for ENG telling FROM voted no on Imperial Federation
country_event = {
	id = IMPFED_events.102
	title = mtg_britain.102.t
	desc = mtg_britain.102.d
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.102.a
		if = {
			limit = {
				NOT = {
					check_variable = {
						var = ENG_imperial_conference_federation_answers
						value = 1
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ENG_imperial_conference_federation_answers
				value = 0
			}
		}
		add_to_variable = {
			var = ENG_imperial_conference_federation_answers
			value = 1
		}
		ENG_imperial_conference_clear_in_progress_flags = yes
		if = {
			limit = {
				RAJ = {
					is_subject_of = ENG
					has_country_flag = ENG_rejected_federation
				}
				check_variable = { var = ENG_imperial_conference_federation_answers value = ENG_imperial_conference_number_of_subjects compare = equals }
				NOT = {
					any_country = {
						OR = {
							tag = CAN
							tag = SAF
							tag = AST
							tag = NZL
						}
						has_country_flag = ENG_rejected_federation
					}
				}
			}
			country_event = { id = IMPFED_events.104 hours = 6 }
		}
		if = {
			limit = {
				check_variable = { var = ENG_imperial_conference_federation_answers value = ENG_imperial_conference_number_of_subjects compare = equals }
				any_country = {
					OR = {
						tag = CAN
						tag = SAF
						tag = AST
						tag = NZL
					}
					has_country_flag = ENG_rejected_federation
				}
			}
			country_event = { id = IMPFED_events.105 hours = 6 }
		}
	}
}

# Event for ENG telling all Dominions accepted
country_event = {
	id = IMPFED_events.103
	title = mtg_britain.103.t
	desc = mtg_britain.103.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.103.a
		if = {
			limit = {
				OR = {
					has_dlc = "Together for Victory"
					AND = {
						has_dlc = "Death or Dishonor"
						has_government = fascism
					}
				}
			}
			every_country = {
				limit = {
					OR = {
						AND = {
							is_subject_of = ENG
							tag = CAN
						}
						AND = {
							is_subject_of = ENG
							tag = SAF
						}
						AND = {
							is_subject_of = ENG
							tag = RAJ
						}
						AND = {
							is_subject_of = ENG
							tag = AST
						}
						AND = {
							is_subject_of = ENG
							tag = NZL
						}
						AND = {
							is_subject_of = ENG
							tag = MAL
						}
					}
				}
				add_ideas = ENG_federal_integration
			}
		}
		else = {
			every_country = {
				limit = {
					OR = {
						AND = {
							is_subject_of = ENG
							tag = CAN
						}
						AND = {
							is_subject_of = ENG
							tag = SAF
						}
						AND = {
							is_subject_of = ENG
							tag = RAJ
						}
						AND = {
							is_subject_of = ENG
							tag = AST
						}
						AND = {
							is_subject_of = ENG
							tag = NZL
						}
						AND = {
							is_subject_of = ENG
							tag = MAL
						}
					}
				}
				add_ideas = ENG_federal_integration_tfv
			}
		}
		set_country_flag = ENG_dominions_accepted_federation
		if = {
			limit = {
				IRE = {
					has_country_flag = ENG_accepted_federation
				}
			}
			country_event = { id = IMPFED_events.5 hours = 6 }
		}	
		if = {
			limit = {
				IRE = {
					has_country_flag = ENG_rejected_federation
				}
			}
			country_event = { id = IMPFED_events.6 hours = 6 }
		}
	}
}

# Event for ENG telling all Dominions except India accepted
country_event = {
	id = IMPFED_events.104
	title = mtg_britain.104.t
	desc = mtg_britain.104.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Go through with it anyway - give India independence
	option = {
		name = mtg_britain.104.a
		if = {
			limit = {
				OR = {
					has_dlc = "Together for Victory"
					AND = {
						has_dlc = "Death or Dishonor"
						has_government = fascism
					}
				}
			}
			every_country = {
				limit = {
					OR = {
						AND = {
							is_subject_of = ENG
							tag = CAN
						}
						AND = {
							is_subject_of = ENG
							tag = SAF
						}
						AND = {
							is_subject_of = ENG
							tag = AST
						}
						AND = {
							is_subject_of = ENG
							tag = NZL
						}
						AND = {
							is_subject_of = ENG
							tag = MAL
						}
					}
				}
				add_ideas = ENG_federal_integration
			}
		}
		else = {
			every_country = {
				limit = {
					OR = {
						AND = {
							is_subject_of = ENG
							tag = CAN
						}
						AND = {
							is_subject_of = ENG
							tag = SAF
						}
						AND = {
							is_subject_of = ENG
							tag = AST
						}
						AND = {
							is_subject_of = ENG
							tag = NZL
						}
						AND = {
							is_subject_of = ENG
							tag = MAL
						}
					}
				}
				add_ideas = ENG_federal_integration_tfv
			}
		}
		set_country_flag = ENG_dominions_accepted_federation
		set_autonomy = {
			target = RAJ
			autonomy_state = autonomy_free
		}
		remove_from_faction = RAJ
		RAJ = {
			drop_cosmetic_tag = yes
			retire_country_leader = yes
			remove_from_tech_sharing_group = commonwealth_research
		}
		if = {
			limit = {
				IRE = {
					has_country_flag = ENG_accepted_federation
				}
			}
			country_event = { id = IMPFED_events.5 hours = 6 }
		}	
		if = {
			limit = {
				IRE = {
					has_country_flag = ENG_rejected_federation
				}
			}
			country_event = { id = IMPFED_events.6 hours = 6 }
		}
	}

	# We're all in this together - unanimous, or not at all
	option = {
		name = mtg_britain.104.b
		if = {
			limit = {
				IRE = {
					has_country_flag = ENG_accepted_federation
				}
			}
			country_event = { id = IMPFED_events.5 hours = 6 }
		}	
		if = {
			limit = {
				IRE = {
					has_country_flag = ENG_rejected_federation
				}
			}
			country_event = { id = IMPFED_events.6 hours = 6 }
		}
	}
}

# Event for ENG telling Federation plans fell through
country_event = {
	id = IMPFED_events.105
	title = mtg_britain.105.t
	desc = mtg_britain.105.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	# Ok
	option = {
		name = mtg_britain.105.a
	}
}

#Event for country that could not break free during dominions break with the crown to escape once martial law runs out
country_event = {
	id = IMPFED_events.106
	title = IMPFED_events.106.t
	desc = IMPFED_events.106.d
	picture = GFX_report_event_generic_conference

	trigger = {
		NOT = {
			has_government = neutrality
			has_country_flag = ENG_cannot_leave_faction
		}
		OR = {
			tag = CAN
			tag = SAF
			tag = AST
			tag = NZL
			tag = RAJ
		}
		is_subject_of = ENG
		has_country_flag = ENG_abdication_crisis_dominion_will_leave
		ENG = {
			NOT = { has_country_flag = ENG_abdication_crisis_changed_mind }
			has_country_flag = ENG_abdication_crisis_government_fell
		}
		has_global_flag = ENG_dominions_broke_with_crown
	}	
	
	mean_time_to_happen = {
		days = 7
	}
	
	
	# proclaim independence
	option = {
		name = IMPFED_events.106.a
		ENG = {
			country_event = {
				id = IMPFED_events.107
				days = 1
			}
		}
	}
	# remain loyal
	option = {
		name = IMPFED_events.106.b
		ai_chance = {
			factor = 0
		}
	}
}
#notification for ENG that FROM has broke with the crown
country_event = {
	id = IMPFED_events.107
	title = IMPFED_events.107.t
	desc = IMPFED_events.107.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	
	# we are powerless
	option = {
		name = IMPFED_events.107.a
		trigger =  {
			NOT = {
				FROM = {
					tag = RAJ
				}
			}
		}
		set_autonomy = {
			target = FROM
			autonomy_state = autonomy_free
		}
		if = {
			limit = {
				CAN = {
					is_faction_leader = yes
				}
			}
			CAN = {
				add_to_faction = FROM
			}
		}
		else_if = {
			limit = {
				SAF = {
					is_faction_leader = yes
				}
			}
			SAF = {
				add_to_faction = FROM
			}
		}
		else_if = {
			limit = {
				AST = {
					is_faction_leader = yes
				}
			}
			AST = {
				add_to_faction = FROM
			}
		}
		hidden_effect = {
			FROM = {
				add_ai_strategy = {
					type = alliance
					id = ENG
					value = -200
				}
			}
			if = {
				limit = {
					FROM = {
						tag = CAN
					}
				}
				drop_cosmetic_tag = yes
			}		
		}
	}
	# we are powerless - option for india (not joining commonwealth faction)
	option = {
		name = IMPFED_events.107.b
		trigger =  {
			FROM = {
				tag = RAJ
			}
		}
		set_autonomy = {
			target = FROM
			autonomy_state = autonomy_free
		}
		
		hidden_effect = {
			FROM = {
				add_ai_strategy = {
					type = alliance
					id = ENG
					value = -200
				}
			}		
		}
	}
}