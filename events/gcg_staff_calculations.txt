add_namespace = gcg_staff_calc


	
country_event = {
	id = gcg_staff_calc.1

	trigger = {
	is_ai = no
	}
	
	mean_time_to_happen = {
	days = 3
	}
	
	hidden = yes
	
	immediate = {
	#remove all debuffs/boosts
	every_unit_leader = { remove_unit_leader_trait = gcg_no_staff_calculations remove_unit_leader_trait = gcg_under_staff_calculations remove_unit_leader_trait = gcg_sufficient_staff_calculations }
	
	#add no korps staff
	every_unit_leader = { limit = { NOT = { has_global_flag = no_staff_units } set_temp_variable = { temp1 = 0 } add_to_temp_variable = { temp1 = num_equipment@gcg_staff_equipment }  check_variable = { temp1 = 0 } is_leading_army = yes } add_unit_leader_trait = gcg_no_staff_calculations }
	
	#add under staffed staff
	every_unit_leader = { limit = { NOT = { has_global_flag = no_staff_units } set_temp_variable = { temp2 = 0 } add_to_temp_variable = { temp2 = num_equipment@gcg_staff_equipment } set_temp_variable = { temp_needed_equipment = num_units } divide_temp_variable = { temp_needed_equipment = 3 } multiply_temp_variable = { temp_needed_equipment = 40 } check_variable = { temp_needed_equipment > temp2 } NOT = { check_variable = { temp_needed_equipment < temp2 } check_variable = { temp2 < 1 } } is_leading_army = yes } add_unit_leader_trait = gcg_under_staff_calculations }
	
	#sufficient staff
	every_unit_leader = { limit = { NOT = { has_global_flag = no_staff_units } set_temp_variable = { temp3 = 0 } add_to_temp_variable = { temp3 = num_equipment@gcg_staff_equipment } set_temp_variable = { temp_needed_equipment = num_units } divide_temp_variable = { temp_needed_equipment = 3 } multiply_temp_variable = { temp_needed_equipment = 40 } check_variable = { temp_needed_equipment < temp3 } NOT = { check_variable = { temp_needed_equipment > temp3 } check_variable = { temp3 < 1 } } is_leading_army = yes } add_unit_leader_trait = gcg_sufficient_staff_calculations }
	}
	
			option = { 
			#name = gcg_chemicals.a 
			}
		}
	
	
	
	
	
	
	#every_unit_leader = { limit = { check_variable = { num_units_on_climate@cold_climate > 2 } set_temp_variable = { temp = avg_units_acclimation@cold_climate } divide_temp_variable = { temp =  num_units } check_variable = { temp < 0.5 } } add_unit_leader_trait = gcg_cold_calculations  }
	
	
	